{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', { scrollZoom: false });\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction fetchImg(query) {\n  const BASE_URL = 'https://pixabay.com/api/?';\n  const PARAMS = new URLSearchParams({\n    key: '42172991-e7a3268a8ccb87dfba8d5efbc',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = BASE_URL + PARAMS;\n\n  return fetch(url).then(response => response.json());\n}\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const query = document.querySelector('input[type=\"text\"]').value.trim();\n\n  if (query !== '') {\n    loader.style.display = 'inline-block';\n\n    fetchImg(query)\n      .then(data => {\n        if (data.hits.length === 0) {\n          gallery.innerHTML =\n            '<p>Sorry, there are no images matching your search query. Please try again!</p>';\n        } else {\n          gallery.innerHTML = imagesTemplate(data.hits);\n\n          lightbox.refresh();\n        }\n      })\n      .catch(error => console.error('Error fetching data:', error))\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  }\n}\nfunction imagesTemplate(hits) {\n  return hits.map(imgTemplate).join('');\n}\n\nfunction imgTemplate(hit) {\n  return `<div class=\"card\">\n<a href=\"${hit.largeImageURL}\" data-lightbox=\"image\">\n    <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n</a>\n<div class=\"details\">\n    <p>Likes: ${hit.likes}</p>\n    <p>Views: ${hit.views}</p>\n    <p>Comments: ${hit.comments}</p>\n    <p>Downloads: ${hit.downloads}</p>\n</div>\n</div>`;\n}\n"],"names":["lightbox","SimpleLightbox","form","gallery","loader","onFormSubmit","fetchImg","query","BASE_URL","PARAMS","url","response","e","data","imagesTemplate","error","hits","imgTemplate","hit"],"mappings":"svBAKA,MAAMA,EAAW,IAAIC,EAAe,aAAc,CAAE,WAAY,EAAK,CAAE,EAEjEC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASC,EAASC,EAAO,CACvB,MAAMC,EAAW,4BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAMF,EAAWC,EAEvB,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAYA,EAAS,KAAI,CAAE,CACpD,CACA,SAASN,EAAaO,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAML,EAAQ,SAAS,cAAc,oBAAoB,EAAE,MAAM,OAE7DA,IAAU,KACZH,EAAO,MAAM,QAAU,eAEvBE,EAASC,CAAK,EACX,KAAKM,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBV,EAAQ,UACN,mFAEFA,EAAQ,UAAYW,EAAeD,EAAK,IAAI,EAE5Cb,EAAS,QAAO,EAE1B,CAAO,EACA,MAAMe,GAAS,QAAQ,MAAM,uBAAwBA,CAAK,CAAC,EAC3D,QAAQ,IAAM,CACbX,EAAO,MAAM,QAAU,MAC/B,CAAO,EAEP,CACA,SAASU,EAAeE,EAAM,CAC5B,OAAOA,EAAK,IAAIC,CAAW,EAAE,KAAK,EAAE,CACtC,CAEA,SAASA,EAAYC,EAAK,CACxB,MAAO;AAAA,WACEA,EAAI,aAAa;AAAA,gBACZA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,gBAGlCA,EAAI,KAAK;AAAA,gBACTA,EAAI,KAAK;AAAA,mBACNA,EAAI,QAAQ;AAAA,oBACXA,EAAI,SAAS;AAAA;AAAA,OAGjC"}